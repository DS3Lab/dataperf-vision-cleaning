Bootstrap: library
From: ubuntu:22.04

%files
    ./app /app

%environment
    export LC_ALL=C

%post
    apt update && apt upgrade -y && apt install -y python3 python3-pip
    pip3 install -r /app/requirements.txt
    mkdir /app/submissions/
    mkdir /app/results/
    
%runscript
    echo "Container was created $NOW"
    echo "Arguments received: $*"
    exec echo "$@"

%labels
    Author Dataperf WG @ MLCommons
    Version v0.0.1

%help
    This is a demo container used to illustrate a def file that uses all
    supported sections.

# then below are useful commands

%apprun create_baselines
    exec python3 /app/create_baselines.py

%applabels foo
   DEBUGGING BASELINES

%apphelp foo
    This is the help for foo.
